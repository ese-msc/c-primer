

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Build Systems &#8212; C/C++ Primer</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".cell"
const thebe_selector_input = ".cell_input div.highlight"
const thebe_selector_output = ".cell_input div.highlight"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'part_three/04_build_systems';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Combining C and Python" href="05_combining_with_python.html" />
    <link rel="prev" title="Header files and libraries" href="03_header_files.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">C/C++ Primer</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../part_one/intro.html">Part I: Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../part_one/01_running.html">Running C++ code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_one/02_hello_world.html">A “Hello World!” Program in C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_one/03_simple_math.html">Some Numerical Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_one/04_input-output.html">C++ Programs accepting inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_one/05_troubleshooting.html">Debugging &amp; Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_one/exercises_one.html">Further Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../part_two/intro.html">Part II: C/C++ fundamentals</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../part_two/01_datatypes.html">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_two/02_operators.html">C/C++ Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_two/03_control.html">C/C++ Control Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_two/04_functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../part_two/exercises_two.html">Further Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="intro.html">Part III: Beyond the Basics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_pointers.html">Pointers - a window to variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_structs.html">Structures &amp; Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_header_files.html">Header files and libraries</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_combining_with_python.html">Combining C and Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercises_three.html">Further Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendices/intro.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendices/keywords.html">Keywords</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/c-preprocessor.html">The C preprocessor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changes</a></li>



<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../further_reading.html">Further Reading</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/ese-msc/c-primer/issues/new?title=Issue%20on%20page%20%2Fpart_three/04_build_systems.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button"
   title="Open an issue"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/part_three/04_build_systems.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Build Systems</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-studio-windows-only">Visual Studio (Windows only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-header-files">Adding header files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-library-files">Adding library files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-linux-wsl-and-mac-only">Make (Linux/WSL and Mac only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Adding header files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Adding library files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-linux-mac-and-windows">CMake (Linux, Mac and Windows)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-cmake">installing CMake</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-example-cmakelists-txt-file">An example CMakeLists.txt file</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="build-systems">
<h1>Build Systems<a class="headerlink" href="#build-systems" title="Permalink to this heading">#</a></h1>
<p>This section is more advanced, and is not required for the Advanced Programming module.  It is included here for reference, for those who are interested and for those who want to use external libraries in their projects. It may be useful for ACSE students preparing for the Patterns for Parallel Programming module.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>When you write a C++ program, you need to compile it.  This is fairly simple when all you have is a single file, but as soon as you start to have multiple files, or want to use external libraries, things get more complicated.  In this section we’ll look at some of the options for building C++ programs with external, and how to use them.</p>
<p>This will not go into great detail on the build systems themselves, but will give you enough information to get started with them.  If you want to know more, there are plenty of resources online.</p>
<p>In general there are two steps involved:</p>
<ol class="arabic simple">
<li><p>Making sure the  the path for the header files which contain the declarations for the library are available to the compiler</p></li>
<li><p>Making sure the path for the library files which contain the compiled code for the library are available to the linker.</p></li>
</ol>
<p>How to do this depends on the build system you are using. We will give a short explanation here, or you can look at the following tutorials for more</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/cpp/build/walkthrough-creating-and-using-a-dynamic-link-library-cpp?view=msvc-160">Visual Studio</a></p></li>
<li><p><a class="reference external" href="https://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/">Make</a></p></li>
<li><p><a class="reference external" href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">CMake</a></p></li>
</ul>
</section>
<section id="visual-studio-windows-only">
<h2>Visual Studio (Windows only)<a class="headerlink" href="#visual-studio-windows-only" title="Permalink to this heading">#</a></h2>
<p>Since Visual Studio is mostly used via its graphical interface, it can be hard to find the settings you need to change.  The following instructions should help you to get started.</p>
<section id="adding-header-files">
<h3>Adding header files<a class="headerlink" href="#adding-header-files" title="Permalink to this heading">#</a></h3>
<p>Assuming you have already downloaded the external library you want to use, you will need to know the file path to the directory containing the header  (i.e the <code class="docutils literal notranslate"><span class="pre">.h</span></code> or <code class="docutils literal notranslate"><span class="pre">.hpp</span></code> files).</p>
<p>To add a header file to your project, right click on the project name in the Solution Explorer and select <code class="docutils literal notranslate"><span class="pre">Properties</span></code>.  This will open a new window with a list of options on the left.  Select <code class="docutils literal notranslate"><span class="pre">C/C++</span></code> and then <code class="docutils literal notranslate"><span class="pre">General</span></code>.  In the <code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Include</span> <span class="pre">Directories</span></code> box, add the path to the directory containing the header files you want to use.  You can add multiple paths by separating them with a <code class="docutils literal notranslate"><span class="pre">;</span></code>, something like <code class="docutils literal notranslate"><span class="pre">C:\Users\Downloads\path\to\headers;C:\Users\Downloads\path\to\more\headers</span></code>.</p>
</section>
<section id="adding-library-files">
<h3>Adding library files<a class="headerlink" href="#adding-library-files" title="Permalink to this heading">#</a></h3>
<p>Now you will need to find the file path to the directory containing the library files (i.e the <code class="docutils literal notranslate"><span class="pre">.lib</span></code> or <code class="docutils literal notranslate"><span class="pre">.dll</span></code> files) for the library you want to use.</p>
<p>To add a library file to your project, right click on the project name in the Solution Explorer and select <code class="docutils literal notranslate"><span class="pre">Properties</span></code>.  This will open a new window with a list of options on the left.  Select <code class="docutils literal notranslate"><span class="pre">Linker</span></code> and then <code class="docutils literal notranslate"><span class="pre">General</span></code>.  In the <code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Library</span> <span class="pre">Directories</span></code> box, add the path to the directory containing the library files you want to use.  You can add again add multiple paths by separating them with a <code class="docutils literal notranslate"><span class="pre">;</span></code>, something like <code class="docutils literal notranslate"><span class="pre">C:\Users\Downloads\path\to\libraries;C:\Users\Downloads\path\to\more\libraries</span></code>.</p>
<p>If the paths are correct, you can then add the name of the library file to the <code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Dependencies</span></code> box.  This should be the name of the library file without the extension.  For example, if you want to use the library <code class="docutils literal notranslate"><span class="pre">libexample.lib</span></code>, you would add <code class="docutils literal notranslate"><span class="pre">libexample</span></code> to the <code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Dependencies</span></code> box.</p>
<p>You should now be able to use the library in your project and compile it as normal.</p>
</section>
</section>
<section id="make-linux-wsl-and-mac-only">
<h2>Make (Linux/WSL and Mac only)<a class="headerlink" href="#make-linux-wsl-and-mac-only" title="Permalink to this heading">#</a></h2>
<p>The Make build system is used on Linux and Mac.  It is a command line tool, so you will need to open a terminal to use it (and may need to install it if it is not already installed).</p>
<p>On Ubuntu, you can install it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>make
</pre></div>
</div>
<p>On Mac, you can install it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>make
</pre></div>
</div>
<p>To use Make, you need to create a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> in the same directory as your source code.  This file contains instructions for how to build the various steps of your program. The following is a simple example of a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> for a program called <code class="docutils literal notranslate"><span class="pre">hello</span></code>, assuming that the source code is in a file called <code class="docutils literal notranslate"><span class="pre">hello.cpp</span></code>, and your compiler is <code class="docutils literal notranslate"><span class="pre">g++</span></code>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">all</span><span class="o">:</span><span class="w"> </span><span class="n">hello</span>

<span class="nv">CXX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>g++

<span class="nf">hello</span><span class="o">:</span><span class="w"> </span><span class="n">hello</span>.<span class="n">o</span>
<span class="w">    </span><span class="si">${</span><span class="nv">CXX</span><span class="si">}</span><span class="w"> </span>-L/usr/lib/x86_64-linux-gnu/<span class="w"> </span>-lgraphviz<span class="w"> </span>-o<span class="w"> </span>hello<span class="w"> </span>hello.o

<span class="nf">hello.o</span><span class="o">:</span><span class="w"> </span><span class="n">hello</span>.<span class="n">cpp</span>
<span class="w">    </span><span class="si">${</span><span class="nv">CXX</span><span class="si">}</span><span class="w"> </span>-I/usr/include/graphviz<span class="w"> </span>-c<span class="w"> </span>hello.cpp
</pre></div>
</div>
<p>The first line defines a target called <code class="docutils literal notranslate"><span class="pre">all</span></code>.  As the first entry, this is the default target, so if you run <code class="docutils literal notranslate"><span class="pre">make</span></code> without specifying a target, it will run the <code class="docutils literal notranslate"><span class="pre">all</span></code> target.  The <code class="docutils literal notranslate"><span class="pre">all</span></code> target depends on the <code class="docutils literal notranslate"><span class="pre">hello</span></code> target, so running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">all</span></code> will run the <code class="docutils literal notranslate"><span class="pre">hello</span></code> target.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">hello</span></code> target depends on the <code class="docutils literal notranslate"><span class="pre">hello.o</span></code> target, so running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">hello</span></code> will run the <code class="docutils literal notranslate"><span class="pre">hello.o</span></code> target (if <code class="docutils literal notranslate"><span class="pre">hello.cpp</span></code> is newer than <code class="docutils literal notranslate"><span class="pre">hello.o</span></code>), and then the <code class="docutils literal notranslate"><span class="pre">hello</span></code> target.</p>
<section id="id1">
<h3>Adding header files<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">hello.o</span></code> target tells <code class="docutils literal notranslate"><span class="pre">make</span></code> how to compile the <code class="docutils literal notranslate"><span class="pre">hello.cpp</span></code> file into an object file.  The <code class="docutils literal notranslate"><span class="pre">-I</span></code> flag tells the compiler where to look for  header files which weren’t installed to system directories.  In this case, the header files are in <code class="docutils literal notranslate"><span class="pre">/usr/include/graphviz</span></code>.</p>
</section>
<section id="id2">
<h3>Adding library files<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">hello</span></code> target tells <code class="docutils literal notranslate"><span class="pre">make</span></code> how to link the <code class="docutils literal notranslate"><span class="pre">hello.o</span></code> object file into an executable.  The <code class="docutils literal notranslate"><span class="pre">-L</span></code> flag tells the linker where to look for library files which weren’t installed to system directories.  In this case, the library files are in <code class="docutils literal notranslate"><span class="pre">/usr/lib/x86_64-linux-gnu/</span></code>.  The <code class="docutils literal notranslate"><span class="pre">-l</span></code> flag tells the linker which library to use.  In this case, the library is called <code class="docutils literal notranslate"><span class="pre">libgraphviz.so</span></code>, so the flag is <code class="docutils literal notranslate"><span class="pre">-lgraphviz</span></code> (note that the <code class="docutils literal notranslate"><span class="pre">lib</span></code> prefix and the <code class="docutils literal notranslate"><span class="pre">.so</span></code> suffix are omitted).</p>
</section>
</section>
<section id="cmake-linux-mac-and-windows">
<h2>CMake (Linux, Mac and Windows)<a class="headerlink" href="#cmake-linux-mac-and-windows" title="Permalink to this heading">#</a></h2>
<p>CMake is a cross-platform build system.  It is a command line tool, so you will need to open a terminal to use it (and may need to install it if it is not already installed).</p>
<p>The biggest issue with both Visual Studio and <code class="docutils literal notranslate"><span class="pre">make</span></code> is that we need to find the header/library files ourselves before we can use them.  CMake can help with this, as it can find the header/library files for us.</p>
<p>Further, <code class="docutils literal notranslate"><span class="pre">CMake</span></code> works fully cross-platform, so the same setup (described as text in a <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file) will work on Windows, Linux and Mac.</p>
<section id="installing-cmake">
<h3>installing CMake<a class="headerlink" href="#installing-cmake" title="Permalink to this heading">#</a></h3>
<p>On Ubuntu, you can install it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>cmake
</pre></div>
</div>
<p>On Mac, you can install it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>cmake
</pre></div>
</div>
</section>
<section id="an-example-cmakelists-txt-file">
<h3>An example CMakeLists.txt file<a class="headerlink" href="#an-example-cmakelists-txt-file" title="Permalink to this heading">#</a></h3>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.10</span><span class="p">)</span>

<span class="nb">project</span><span class="p">(</span><span class="s">hello</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD</span><span class="w"> </span><span class="s">17</span><span class="p">)</span>

<span class="nb">find_package</span><span class="p">(</span><span class="s">graphviz</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>

<span class="nb">add_executable</span><span class="p">(</span><span class="s">hello</span><span class="w"> </span><span class="s">hello.cpp</span><span class="p">)</span>

<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">hello</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">graphviz</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "ese-msc/c-primer",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./part_three"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="03_header_files.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Header files and libraries</p>
      </div>
    </a>
    <a class="right-next"
       href="05_combining_with_python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Combining C and Python</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-studio-windows-only">Visual Studio (Windows only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-header-files">Adding header files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-library-files">Adding library files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-linux-wsl-and-mac-only">Make (Linux/WSL and Mac only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Adding header files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Adding library files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-linux-mac-and-windows">CMake (Linux, Mac and Windows)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-cmake">installing CMake</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-example-cmakelists-txt-file">An example CMakeLists.txt file</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Imperial College London
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021-24.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>